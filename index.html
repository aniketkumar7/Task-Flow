<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="TaskFlow - a minimal task tracker" />
    <meta name="keywords" content="task management, todo list, productivity" />
    <meta name="author" content="Aniket Kumar" />
    <meta name="theme-color" content="#0b0b0d" media="(prefers-color-scheme: dark)" />
    <meta name="theme-color" content="#fafafa" media="(prefers-color-scheme: light)" />
    <title>TaskFlow</title>

    <!-- Favicon -->
    <link rel="icon" href="image/icon.svg" type="image/svg+xml" />
    <link rel="icon" href="image/icon.png" type="image/png" />
    <link rel="apple-touch-icon" href="image/icon.png" />
    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <main class="app">
        <header class="hero" aria-label="TaskFlow">
            <div class="hero-top">
                <div class="hero-brand">
                    <span class="brand-lockup" aria-label="TaskFlow">
                        <img class="brand-mark" src="image/icon.svg" alt="" aria-hidden="true" />
                        <span class="brand-name">TaskFlow</span>
                    </span>
                </div>
                <button id="themeToggle" class="icon-btn" type="button" aria-label="Toggle theme">
                    <span class="icon" aria-hidden="true" id="themeIcon">☾</span>
                </button>
            </div>

            <h1 class="hero-title">
                Track
                <span class="pill pink">
                    <span class="pill-glyph" aria-hidden="true">
                        <span class="pill-dot"></span>
                    </span>
                    <span class="pill-label">TASKS</span>
                </span>,
                and stay 
                <span class="pill green">
                    <span class="pill-glyph" aria-hidden="true">
                        <span class="pill-dot"></span>
                    </span>
                    <span class="pill-label">FOCUSED.</span>
                </span>
            </h1>

            <div class="hero-sub">
                Minimal. Fast. Local-first.
            </div>
        </header>

        <section class="composer" aria-label="Add task">
            <form id="quickAddForm" class="composer-row" autocomplete="off">
                <input id="quickAddInput" class="input" type="text" placeholder="Add a task… (Enter)" aria-describedby="addError" />
            </form>
            <div class="form-error" id="addError" role="status" aria-live="polite"></div>
            <div class="composer-extra" aria-label="Task details">
                <div class="dropdown" id="priorityDropdown">
                    <button id="priorityBtn" class="drop-btn" type="button" aria-haspopup="listbox"
                        aria-expanded="false">
                        <span class="drop-value" id="priorityValue">Priority: Medium</span>
                        <span class="drop-caret" aria-hidden="true"></span>
                    </button>
                    <div id="priorityMenu" class="drop-menu" role="listbox" aria-label="Priority" tabindex="-1">
                        <button class="drop-item" type="button" role="option" aria-selected="false"
                            data-value="high">Priority: High</button>
                        <button class="drop-item is-active" type="button" role="option" aria-selected="true"
                            data-value="medium">Priority: Medium</button>
                        <button class="drop-item" type="button" role="option" aria-selected="false"
                            data-value="low">Priority: Low</button>
                    </div>
                </div>
                <div class="due-time">
                    <div class="dropdown datepick" id="dueDropdown">
                        <button id="dueBtn" class="drop-btn" type="button" aria-haspopup="dialog"
                            aria-expanded="false">
                            <span class="drop-value" id="dueValue">Due: None</span>
                            <span class="drop-caret" aria-hidden="true"></span>
                        </button>
                        <div id="dueMenu" class="date-menu" role="dialog" aria-label="Pick due date" tabindex="-1">
                            <div class="date-head">
                                <button class="btn date-nav" type="button" id="duePrev"
                                    aria-label="Previous month">‹</button>
                                <div class="date-month" id="dueMonth">Month</div>
                                <button class="btn date-nav" type="button" id="dueNext" aria-label="Next month">›</button>
                            </div>
                            <div class="date-dow">
                                <span>Mo</span><span>Tu</span><span>We</span><span>Th</span><span>Fr</span><span>Sa</span><span>Su</span>
                            </div>
                            <div class="date-grid" id="dueGrid"></div>
                            <div class="date-actions">
                                <button class="btn" type="button" id="dueToday">Today</button>
                                <button class="btn danger" type="button" id="dueClear">Clear</button>
                            </div>
                        </div>
                        <input id="dueInput" type="hidden" />
                    </div>
                    <div class="dropdown timepick" id="timeDropdown">
                        <button id="timeBtn" class="drop-btn" type="button" aria-haspopup="dialog"
                            aria-expanded="false">
                            <span class="drop-value" id="timeValue">Time: None</span>
                            <span class="drop-caret" aria-hidden="true"></span>
                        </button>
                        <div id="timeMenu" class="time-menu" role="dialog" aria-label="Pick time" tabindex="-1">
                            <div class="time-top">
                                <div class="time-hhmm" aria-label="Time">
                                    <input id="timeHour" class="input time-box" inputmode="numeric" placeholder="HH"
                                        aria-label="Hour" />
                                    <span class="time-sep" aria-hidden="true">:</span>
                                    <input id="timeMinute" class="input time-box" inputmode="numeric" placeholder="MM"
                                        aria-label="Minute" />
                                </div>
                                <div class="ampm" role="group" aria-label="AM/PM">
                                    <button class="ampm-btn is-on" type="button" id="timeAM" aria-pressed="true">AM</button>
                                    <button class="ampm-btn" type="button" id="timePM" aria-pressed="false">PM</button>
                                </div>
                                <button class="btn danger" type="button" id="timeClear">Clear</button>
                            </div>
                        </div>
                        <input id="timeInput" type="hidden" />
                    </div>
                </div>
                <button id="addBtn" class="btn primary" type="submit" form="quickAddForm" disabled>Add</button>
            </div>
            <div class="composer-hint" id="composerHint">
                Tip: Press <kbd>/</kbd> to search, <kbd>n</kbd> to focus “Add”.
            </div>
        </section>

        <section class="controls" aria-label="Task controls">
            <div class="controls-left">
                <div class="segmented" role="tablist" aria-label="Filter">
                    <button class="seg-btn is-active" type="button" data-filter="all" role="tab"
                        aria-selected="true">
                        <span>All</span>
                        <span class="seg-count" id="countAll">0</span>
                    </button>
                    <button class="seg-btn" type="button" data-filter="active" role="tab"
                        aria-selected="false">
                        <span>Active</span>
                        <span class="seg-count" id="countActive">0</span>
                    </button>
                    <button class="seg-btn" type="button" data-filter="done" role="tab"
                        aria-selected="false">
                        <span>Done</span>
                        <span class="seg-count" id="countDone">0</span>
                    </button>
                </div>
            </div>
            <div class="controls-right">
                <input id="searchInput" class="input search" type="search" placeholder="Search…" />
                <div class="dropdown" id="priorityFilterDropdown">
                    <button id="priorityFilterBtn" class="drop-btn" type="button" aria-haspopup="listbox"
                        aria-expanded="false">
                        <span class="drop-value" id="priorityFilterValue">All</span>
                        <span class="drop-caret" aria-hidden="true"></span>
                    </button>
                    <div id="priorityFilterMenu" class="drop-menu" role="listbox" aria-label="Priority filter"
                        tabindex="-1">
                        <button class="drop-item is-active" type="button" role="option" aria-selected="true"
                            data-value="all">All</button>
                        <button class="drop-item" type="button" role="option" aria-selected="false"
                            data-value="high">High</button>
                        <button class="drop-item" type="button" role="option" aria-selected="false"
                            data-value="medium">Medium</button>
                        <button class="drop-item" type="button" role="option" aria-selected="false"
                            data-value="low">Priority: Low</button>
                    </div>
                </div>
                <button id="clearDoneBtn" class="btn" type="button">Clear done</button>
                <button id="resetBtn" class="btn danger" type="button">Reset</button>
            </div>
        </section>

        <section class="list" aria-label="Tasks">
            <div id="emptyState" class="empty is-hidden">
                <div class="empty-title">No tasks.</div>
                <div class="empty-sub">Add one above, or clear your search/filter.</div>
            </div>
            <ul id="taskList" class="task-list" aria-label="Task list"></ul>
        </section>

        <dialog id="editDialog" class="dialog">
            <form method="dialog" id="editForm" class="dialog-card">
                <div class="dialog-head">
                    <div class="dialog-title">Edit task</div>
                    <button class="icon-btn" value="cancel" aria-label="Close" type="submit">
                        <span class="icon" aria-hidden="true">×</span>
                    </button>
                </div>

                <label class="field">
                    <span class="label">Title</span>
                    <input id="editTitle" class="input" type="text" required />
                </label>

                <label class="field">
                    <span class="label">Notes (optional)</span>
                    <textarea id="editNotes" class="textarea" rows="3" placeholder="Keep it short."></textarea>
                </label>

                <div class="field-row">
                    <label class="field">
                        <span class="label">Priority</span>
                        <div class="dropdown" id="editPriorityDropdown">
                            <button id="editPriorityBtn" class="drop-btn" type="button" aria-haspopup="listbox"
                                aria-expanded="false">
                                <span class="drop-value" id="editPriorityValue">Priority: Medium</span>
                                <span class="drop-caret" aria-hidden="true"></span>
                            </button>
                            <div id="editPriorityMenu" class="drop-menu" role="listbox" aria-label="Priority"
                                tabindex="-1">
                                <button class="drop-item" type="button" role="option" aria-selected="false"
                                    data-value="high">Priority: High</button>
                                <button class="drop-item is-active" type="button" role="option" aria-selected="true"
                                    data-value="medium">Priority: Medium</button>
                                <button class="drop-item" type="button" role="option" aria-selected="false"
                                    data-value="low">Priority: Low</button>
                            </div>
                        </div>
                    </label>
                    <label class="field">
                        <span class="label">Due date</span>
                        <div class="dropdown datepick" id="editDueDropdown">
                            <button id="editDueBtn" class="drop-btn" type="button" aria-haspopup="dialog"
                                aria-expanded="false">
                                <span class="drop-value" id="editDueValue">Due: None</span>
                                <span class="drop-caret" aria-hidden="true"></span>
                            </button>
                            <div id="editDueMenu" class="date-menu" role="dialog" aria-label="Pick due date"
                                tabindex="-1">
                                <div class="date-head">
                                    <button class="btn date-nav" type="button" id="editDuePrev"
                                        aria-label="Previous month">‹</button>
                                    <div class="date-month" id="editDueMonth">Month</div>
                                    <button class="btn date-nav" type="button" id="editDueNext"
                                        aria-label="Next month">›</button>
                                </div>
                                <div class="date-dow">
                                    <span>Mo</span><span>Tu</span><span>We</span><span>Th</span><span>Fr</span><span>Sa</span><span>Su</span>
                                </div>
                                <div class="date-grid" id="editDueGrid"></div>
                                <div class="date-actions">
                                    <button class="btn" type="button" id="editDueToday">Today</button>
                                    <button class="btn danger" type="button" id="editDueClear">Clear</button>
                                </div>
                            </div>
                            <input id="editDue" type="hidden" />
                        </div>
                    </label>
                    <label class="field">
                        <span class="label">Time</span>
                        <div class="dropdown timepick" id="editTimeDropdown">
                            <button id="editTimeBtn" class="drop-btn" type="button" aria-haspopup="dialog"
                                aria-expanded="false">
                                <span class="drop-value" id="editTimeValue">Time: None</span>
                                <span class="drop-caret" aria-hidden="true"></span>
                            </button>
                            <div id="editTimeMenu" class="time-menu" role="dialog" aria-label="Pick time" tabindex="-1">
                                <div class="time-top">
                                    <div class="time-hhmm" aria-label="Time">
                                        <input id="editTimeHour" class="input time-box" inputmode="numeric" placeholder="HH"
                                            aria-label="Hour" />
                                        <span class="time-sep" aria-hidden="true">:</span>
                                        <input id="editTimeMinute" class="input time-box" inputmode="numeric" placeholder="MM"
                                            aria-label="Minute" />
                                    </div>
                                    <div class="ampm" role="group" aria-label="AM/PM">
                                        <button class="ampm-btn is-on" type="button" id="editTimeAM" aria-pressed="true">AM</button>
                                        <button class="ampm-btn" type="button" id="editTimePM" aria-pressed="false">PM</button>
                                    </div>
                                    <button class="btn danger" type="button" id="editTimeClear">Clear</button>
                                </div>
                            </div>
                            <input id="editTime" type="hidden" />
                        </div>
                    </label>
                </div>

                <div class="dialog-actions">
                    <button class="btn primary" value="save" type="submit" autofocus>Save</button>
                    <button class="btn" value="cancel" type="submit">Cancel</button>
                </div>
            </form>
        </dialog>

        <dialog id="confirmDialog" class="dialog">
            <form method="dialog" id="confirmForm" class="dialog-card">
                <div class="dialog-head">
                    <div class="dialog-title" id="confirmTitle">Confirm</div>
                    <button class="icon-btn" value="cancel" aria-label="Close" type="submit">
                        <span class="icon" aria-hidden="true">×</span>
                    </button>
                </div>

                <div class="confirm-body">
                    <div class="confirm-icon" aria-hidden="true">!</div>
                    <div class="confirm-copy">
                        <div class="confirm-text" id="confirmText">Are you sure?</div>
                        <div class="confirm-sub" id="confirmSub">This action can’t be undone.</div>
                    </div>
                </div>

                <div class="dialog-actions">
                    <button class="btn" value="cancel" type="submit">Cancel</button>
                    <button id="confirmOk" class="btn danger" value="confirm" type="submit" autofocus>Delete</button>
                </div>
            </form>
        </dialog>
    </main>

    <script src="script.js"></script>
</body>

</html>
